{"is_source_file": true, "format": "TypeScript (Angular service)", "description": "This file defines an authentication service for an Angular application, handling user registration, login, profile retrieval, logout, token management with localStorage, and exposing an observable for auth state.", "external_files": ["./api.service"], "external_methods": ["inject", "isPlatformBrowser", "localStorage.getItem", "localStorage.removeItem", "localStorage.setItem", "localStorage.getItem"], "published": ["AuthService"], "classes": [{"name": "AuthService", "description": "Angular service managing authentication processes including registration, login, profile fetching, logout, and token persistence."}], "methods": [{"name": "register", "description": "Registers a new user with email and password, returns an observable of auth response."}, {"name": "login", "description": "Logs in a user with email and password, returns an observable of auth response."}, {"name": "profile", "description": "Retrieves the current authenticated user profile."}, {"name": "logout", "description": "Logs out the current user by clearing local storage and resetting user state."}, {"name": "isAuthenticated", "description": "Checks if a user is currently authenticated based on token presence."}, {"name": "refreshProfile", "description": "Private method to refresh user profile and update user subject, used after app reload."}, {"name": "handleAuthSuccess", "description": "Stores token in local storage and updates user subject upon successful auth response."}], "calls": ["this.api.post", "this.api.get", "localStorage.setItem", "localStorage.removeItem", "localStorage.getItem", "this.profile", "this.handleAuthSuccess"], "search-terms": ["auth token storage", "BehaviorSubject user profile", "Angular AuthService", "localStorage auth", "RSX login register"], "state": 2, "file_id": 24, "knowledge_revision": 60, "git_revision": "", "revision_history": [{"49": ""}, {"58": ""}, {"59": ""}, {"60": ""}], "ctags": [{"_type": "tag", "name": "AuthResponse", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-162076-162086/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^type AuthResponse = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "AuthService", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-162076-162086/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^export class AuthService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "UserProfile", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-162076-162086/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^type UserProfile = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-162076-162086/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^  private api = inject(ApiService);$/", "language": "TypeScript", "kind": "property", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-162076-162086/notes_frontend/src/app/services/auth.service.ts", "pattern": "/^      const token = typeof localStorage !== 'undefined' ? localStorage.getItem(this.TOKEN_KEY) :/", "language": "TypeScript", "kind": "constant"}], "hash": "f6f33156128c093965074b29d48208e2", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/app/services/auth.service.ts", "fields": [{"name": "private api = inject(ApiService);", "scope": "AuthService", "scopeKind": "class", "description": "unavailable"}]}